meta:
  project_name: IAMcoder
  description: "Test replacement on example_widget.dart"
  version: "1.0"

tasks:
  - name: yaml_apply_dry_run
    task_type: yaml_apply
    parameters:
      instructions:
        replacements:
          - file: "testsystemIAMcoder/example_widget.dart"
            anchor: "label: const Text('Mettre à jour le cycle')"
            after: "label: const Text('Mettre à jour le cycle — IAMcoder')"
            include_anchor: false
      dry_run: true
      output: "reports/last_report.json"

  - name: check_dry_run_report
    task_type: yaml_check_report
    parameters:
      report_path: "reports/last_report.json"
      expected_status: "dry_run_ok"

  - name: yaml_apply_live
    task_type: yaml_apply
    parameters:
      instructions:
        replacements:
          - file: "testsystemIAMcoder/example_widget.dart"
            anchor: "label: const Text('Mettre à jour le cycle')"
            after: "label: const Text('Mettre à jour le cycle — IAMcoder')"
            include_anchor: false
      dry_run: false
      create_backup: true
      create_git_checkpoint: false
