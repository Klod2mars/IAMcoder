# ===========================================================
# üß© Mod√®le Standard AIHomeCoder V2 - √âCRITURE (Write)
# ===========================================================
# Ce mod√®le sert √† modifier un fichier existant (ajout, remplacement, insertion, etc.)
# Il fonctionne avec la logique V2 (content_from, target, plan_path, goal).

meta:
  project_name: "AIHomeCoder_Write_Model"
  description: >
    Mission d'√©criture standard pour modification cibl√©e de fichiers Markdown.
    Modifie ou ins√®re du contenu dans un fichier Markdown existant.
  version: "2.0.0"

mode: write_enabled

tasks:
  - name: "task_apply_writes"
    task_type: "task_apply_writes"
    goal: "Modifier ou ins√©rer du contenu dans un fichier Markdown existant."
    parameters:
      plan:
        changes:
          # Exemple 1 : remplacement complet
          - action: overwrite
            target: "C:/Users/roman/Documents/apppklod/RTMBOX/permacalendar_v2.md"
            content_from: "C:/Users/roman/Documents/apppklod/RTMBOX/write_source.md"

          # Exemple 2 : ajout d'un bloc apr√®s un rep√®re
          - action: insert_after
            target: "C:/Users/roman/Documents/apppklod/RTMBOX/permacalendar_v2.md"
            selectors:
              after: "## Notes du jour"
            content_from: "C:/Users/roman/Documents/apppklod/RTMBOX/write_source.md"

          # Exemple 3 : modification inline
          - action: replace_block
            target: "C:/Users/roman/Documents/apppklod/RTMBOX/permacalendar_v2.md"
            selectors:
              start: "<!--BEGIN-SECTION:AGENDA-->"
              end: "<!--END-SECTION:AGENDA-->"
            content_from: "C:/Users/roman/Documents/apppklod/RTMBOX/write_source.md"

# ===========================================================
# üõ†Ô∏è Usage
# ===========================================================
# - target = fichier √† modifier
# - content_from = le contenu mod√®le (souvent ton write_source.md)
# - selectors facultatifs pour cibler les blocs
# - goal reste obligatoire (utile pour le guardrail)
#
# Actions disponibles:
# - overwrite: Remplace compl√®tement le contenu du fichier
# - append: Ajoute du contenu √† la fin du fichier
# - insert_before: Ins√®re du contenu avant un rep√®re
# - insert_after: Ins√®re du contenu apr√®s un rep√®re
# - replace_block: Remplace un bloc entre deux rep√®res
#
# Notes:
# - Les chemins doivent √™tre absoluts sous Windows ou ../RTMBOX/... si workspace diff√©rent
# - goal reste obligatoire (guardrail)
# - content_from et target remplacent source et file (V2)
# - Mode: write_enabled pour autoriser les modifications

# ===========================================================
# üß† Structure universelle des missions
# ===========================================================
# Champ              | Description                              | Obligatoire
# -------------------|------------------------------------------|------------
# name               | Nom lisible de la mission                | ‚úÖ
# mode               | read_only ou write_enabled                | ‚úÖ
# tasks              | Liste des t√¢ches (une ou plusieurs)       | ‚úÖ
# goal               | Phrase explicite du but de la t√¢che       | ‚úÖ
# parameters.plan    | Plan d'ex√©cution des changements          | ‚úÖ pour les √©critures
# target             | Fichier cible                             | ‚úÖ
# content_from       | Fichier source (Markdown)                 | ‚úÖ pour l'√©criture
# selectors          | Rep√®res textuels pour insertions/remplacements | ‚öôÔ∏è optionnel

