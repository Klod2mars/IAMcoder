meta:
  model: deepseek-coder:6.7b
  memory: config/memory_local/deepseek_memory.yalm
  mission_id: deepseek_review_phase_03
  version: 1.0
  description: >
    Mission d’analyse et de validation DeepSeek.
    Lit le fichier d’échange produit par Qwen, l’interprète, exécute un audit rapide
    et rédige un rapport d’observation Markdown + un fichier de retour LIALM.
    C’est la première véritable boucle symbiotique Qwen → DeepSeek.

intent:
  - Lire et interpréter le fichier LIALM généré par Qwen.
  - Évaluer la cohérence et la clarté de son rapport Markdown.
  - Identifier les points à améliorer (structure, logique, rigueur du pipeline).
  - Produire un rapport d’audit en Markdown.
  - Générer un fichier de retour LIALM pour Qwen.

context:
  environment: ollama
  language: English
  mode: deep_analysis
  source_lialm: exchange/qwen_to_deepseek_test.lialm
  output_format: markdown
  max_tokens: 2500

tasks:
  - "Read the YAML exchange file located in ${context.source_lialm}."
  - "Extract mission_id, summary, and recommendations from Qwen’s LIALM."
  - "Perform a short logical audit: verify completeness, formatting, and clarity."
  - "List 3 strengths and 3 weaknesses in Qwen’s report structure."
  - "Write a Markdown report to /reports/deepseek_review_output.md."
  - "Generate a YAML LIALM response file in /exchange/deepseek_to_qwen_review.lialm."
  - "Log all operations to /logs/deepseek_phase_03.log."

outputs:
  - format: markdown
    destination: reports/deepseek_review_output.md
  - format: lialm
    destination: exchange/deepseek_to_qwen_review.lialm
  - log: logs/deepseek_phase_03.log

post_actions:
  - Check that both output files exist.
  - Display the first 8 lines of the Markdown review.
  - Print message: "✅ DeepSeek Review Phase 03 complete — feedback ready for Qwen."
