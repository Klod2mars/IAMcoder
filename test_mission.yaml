meta:
  project_name: IAMcoder

tasks:
  - name: yaml_apply_dry_run
    goal: Run yaml_replacer in dry run to verify replacement
    module: yaml_apply
    parameters:
      instructions:
        replacements:
          - file: "testsystemIAMcoder/widget.dart"
            anchor: "Text('Example Widget')"
            after: "Text('Example Widget — IAMcoder')"
            include_anchor: false
      dry_run: true

  - name: check_dry_run_report
    goal: Verify dry run reported dry_run_ok
    module: yaml_check_report
    parameters:
      report_path: "reports/last_report.json"
      expected_status: "dry_run_ok"

  - name: yaml_apply_live
    goal: Apply replacement and create backup
    module: yaml_apply
    parameters:
      instructions:
        replacements:
          - file: "testsystemIAMcoder/widget.dart"
            anchor: "Text('Example Widget')"
            after: "Text('Example Widget — IAMcoder')"
            include_anchor: false
      dry_run: false
      create_git_checkpoint: false
